<html>
  <head>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
    <meta charset="utf-8">
    <title>藝文通</title>
    <style>
      html, body, #map-canvas {
        height: 100%;
        margin: 0px;
        padding: 0px
      }
    </style>
    <script src="https://maps.googleapis.com/maps/api/js?v=3.exp&sensor=false"></script>
	<script type="text/javascript" src="js/jquery-1.11.0.js"></script>
    <script src="js/query.js"></script>
    <script>
// This example displays a marker at the center of Australia.
// When the user clicks the marker, an info window opens.
var map;
function initialize() {
  
  var mapOptions = {
    zoom: 10,
    center: new google.maps.LatLng(24.233208,120.941737)
  };

  map = new google.maps.Map(document.getElementById('map-canvas'), mapOptions);
  
  function showInfowindow() {
	  var contentString ='<div id="content">'
		  +"title:"+ this.title 
		  +"<br> location:" + this.location
		  +"<br> time:" + this.time 
		  +'</div>';
	  var infowindow = new google.maps.InfoWindow({
		  content: contentString,
		  position:this.getPosition()
	  }).open(map,this);
  }
  
  while(Concert.length==0);

  for(var i =0; i < Concert.length;i++){
	  var showInfo = Concert[i].showInfo;
	  var myTitle = Concert[i].title;
	  if(showInfo[0] != undefined){
		var myLatlng = new google.maps.LatLng(Concert[i].showInfo[0].latitude, Concert[i].showInfo[0].longitude);
	   var marker = new google.maps.Marker({
			position: myLatlng,
			map: map,
			title: myTitle,
			time: showInfo[0].time,
			location: showInfo[0].location
		});
		google.maps.event.addListener(marker, 'click', showInfowindow);
	  
	}
  }
  
  while(Drama.length==0);

  for(var i =0; i < Drama.length;i++){
  var showInfo = Drama[i].showInfo; 
  var myTitle = Drama[i].title;
  if(showInfo[0] != undefined){
	var myLatlng = new google.maps.LatLng(Drama[i].showInfo[0].latitude, Drama[i].showInfo[0].longitude);

    var marker = new google.maps.Marker({
			position: myLatlng,
			map: map,
			title: myTitle,
			time: showInfo[0].time,
			location: showInfo[0].location
		});
		google.maps.event.addListener(marker, 'click', showInfowindow);
  }}
  
  while(Other.length==0);

  for(var i =0; i < Other.length;i++){
  var showInfo = Other[i].showInfo;
  var myTitle = Other[i].title;
  if(showInfo[0] != undefined){
	var myLatlng = new google.maps.LatLng(Other[i].showInfo[0].latitude, Other[i].showInfo[0].longitude);
  
   var marker = new google.maps.Marker({
			position: myLatlng,
			map: map,
			title: myTitle,
			time: showInfo[0].time,
			location: showInfo[0].location
		});
		google.maps.event.addListener(marker, 'click', showInfowindow);
  }}
  
  while(Childen.length==0);

  for(var i =0; i < Childen.length;i++){
	  var showInfo = Childen[i].showInfo;
	  var myTitle = Childen[i].title;
	  if(showInfo[0] != undefined){
		var myLatlng = new google.maps.LatLng(Childen[i].showInfo[0].latitude, Childen[i].showInfo[0].longitude);
		var marker = new google.maps.Marker({
			position: myLatlng,
			map: map,
			title: myTitle,
			time: showInfo[0].time,
			location: showInfo[0].location
		});
		google.maps.event.addListener(marker, 'click', showInfowindow);
	  }
  }
}
function north(){
  map.setCenter(new google.maps.LatLng(25.091075,121.559834));
  map.setZoom(10);
}
function middle(){
  map.setCenter(new google.maps.LatLng(24.233208,120.941737));
  map.setZoom(10);
}
function south(){
  map.setCenter(new google.maps.LatLng(23.141699,120.251273));
  map.setZoom(10);
}
//google.maps.event.addDomListener(window, 'load', initialize);
    </script>
  </head>
  <body>
    <div id="map-canvas">
	<a onclick="initialize()">Click me</a></div>
	<input type= "button" onClick="north()">北</input>
	<input type= "button" onClick="middle()">中</input>
	<input type= "button" onClick="south()">南</input>
  </body>
</html>